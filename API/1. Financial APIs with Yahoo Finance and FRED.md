# Python Hands-on Tutorial 
## Financial APIs with Yahoo Finance 

---

## 1. Learning Objectives

By the end of this tutorial, you will be able to:

- retrieve daily market data using the Yahoo Finance API;
- retrieve macroeconomic indicators from the FRED database;
- clean and align financial and macroeconomic time series;
- compute returns and volatility measures;
- combine market and macro data for simple empirical analysis.

This tutorial focuses on **practical API usage** and **data handling**, rather than advanced financial modeling.

---

## 2. Required Packages 

We use standard Python libraries commonly adopted in financial data analysis.

!pip install yfinance pandas_datareader pandas matplotlib statsmodels


## 3. Import Libraries and Basic Setup
```
import pandas as pd
import numpy as np
import yfinance as yf
from pandas_datareader import data as pdr

import matplotlib.pyplot as plt
import statsmodels.api as sm #statistical modeling and econometric analysis

pd.set_option("display.max_columns", 20)
```
## 4. Market Data via Yahoo Finance API
### 4.1 Download Daily Price Data
```
ticker = "SPY"
start = "2015-01-01"
end   = "2025-12-31"

df_px = yf.download(ticker, start=start, end=end, auto_adjust=False)
df_px.head()

```


Typical columns include:
- Open
- High
- Low
- Close
- Adjusted Close
- Trading Volume


## 4.2 Compute Log Returns

Adjusted prices are preferred because they account for dividends and stock splits.

```python
px = df_px[["Adj Close"]].rename(columns={"Adj Close": "spy_adjclose"})
px["r_spy"] = np.log(px["spy_adjclose"]).diff()
px = px.dropna()
px.head()
```
Why log returns?
- additive over time
- standard in empirical finance
- convenient for volatility and risk analysis

## 4.3 Visualization
```
px["spy_adjclose"].plot(title="SPY Adjusted Close")
plt.show()

px["r_spy"].plot(title="SPY Daily Log Returns")
plt.show()
```

## 5. A Simple Volatility Measure
A basic volatility proxy is the rolling standard deviation of daily returns.
```
window = 21  # approximately one trading month 21days
px["vol_1m"] = px["r_spy"].rolling(window).std() * np.sqrt(252)
px["vol_1m"].plot(
    title="SPY 1-Month Rolling Volatility (Annualized)"
)
plt.show()
```
Remark
- This is a descriptive volatility measure, highlighting volatility clustering and sharp spikes during periods of market stress.











